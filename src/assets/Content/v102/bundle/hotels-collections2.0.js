require=function e(t,i,o){function n(r,s){if(!i[r]){if(!t[r]){var a="function"==typeof require&&require;if(!s&&a)return a(r,!0);if(l)return l(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[r]={exports:{}};t[r][0].call(u.exports,function(e){var i=t[r][1][e];return n(i?i:e)},u,u.exports,e,t,i,o)}return i[r].exports}for(var l="function"==typeof require&&require,r=0;r<o.length;r++)n(o[r]);return n}({2208:[function(e,t,i){var o=(e("underscore"),e("../component/layout/default-page-layout.js")),n=e("../component/hotels-collections-2.0/list/view"),l=e("../component/float-review-module/view"),r=e("../component/ui/util"),s=e("../component/ui/readmore/view"),a=e("../component/ui/carousel/view"),c=e("../component/ui/grayscale"),u=e("../component/hotels-2.2/view"),d=o.extend({ui:{FeaturedText:".hotels-featured-section",list:".hotels-featured-section li",ViewMoreBtnBlock:".hc-tpl-view-more",ViewMoreBtn:".hc-tpl-view-more .view-more-btn",familySection:".hotels-our-family-section .tpl-brands-ection-collection",SectionSlider:".hotels--family-section .tpl-hero-slider",familyController:".hotels-our-family-section .tpl-gallery-controller",familySlider:".hotels-our-family-section .tpl-hero-slider .tpl-content",brandSection:".hotels-brands-ection-collection .tpl-brands-ection-collection",hfsSection:".hotels-featured-section .tpl-brands-ection-collection",_listContent:".x-tpl-collection-hotel",_listHotel:".x-tpl-collection-hotel .collection-list-container section .hotel-list",mapsViewBtn:"[data-view-style='maps']",tileViewBtn02:"[data-view-style='tile-02']",mapsView:"[data-view='maps']",tileView:"[data-view='tile']"},events:{"click @ui.ViewMoreBtn":"__ShoeMore","click @ui.mapsViewBtn":"__showMaps","click @ui.tileViewBtn02":"__showTile02"},initialize:function(){var e=this;e.page=1},onRender:function(){var e=this;new l({el:".hotel-review-bubble"});var t={init:function(){this.ListView=new n,this.ListView.render()}};t.init();var i=e.ui.tileView.length>0;i?e.ui.tileViewBtn02.addClass("selected").siblings().removeClass("selected"):e.ui.mapsViewBtn.addClass("selected").siblings().removeClass("selected"),e.ui.list.length<=2&&e.ui.ViewMoreBtnBlock.remove(),r.ismobile()&&(e.ui.familySection.attr("data-num")>1||(e.ui.familyController.remove(),e.ui.familySlider.css({padding:"2rem 2rem 4rem 2rem"})),e.ui.brandSection.each(function(){var e=jQuery(this).attr("data-num");1==e&&jQuery(this).parent(".left").css({"margin-bottom":"1rem"})}),e.ui.hfsSection.each(function(){var e=jQuery(this).attr("data-num");1==e&&jQuery(this).parent(".left").css({"margin-bottom":"0"})}));var o=e.$el.find(".hotels-our-family-section .tpl-brands-ection-collection").get(0),u=a.getInstance(o);u.model.on("change:index",function(){var e=u.$el.find('[data-component="readmore"]');s.getInstance(e).collapseContent()}),c.grayscale(jQuery(".grayimg")),jQuery(window).resize(function(){c.grayscale(jQuery(".grayimg"))})},__showMaps:function(e){var t=this;t.ui.mapsViewBtn.addClass("selected").siblings().removeClass("selected"),new u({el:".nk2-hotels"}).render(),t.ui.tileView.hide()},__showTile02:function(){var e=this;e.ui.tileView.show(),e.ui.tileViewBtn02.addClass("selected").siblings().removeClass("selected"),setTimeout(function(){e.ui.mapsView.find(".nk2-hotels-views").empty()},300)},__ShoeMore:function(){var e=this;e.total=e.ui.list.length,e.total_page=Math.ceil(e.total/2),e.page++;var t=[2*e.page-1,2*e.page-2];e.ui.list.eq(t[0]).show(),e.ui.list.eq(t[1]).show(),e.total_page==e.page&&e.ui.ViewMoreBtnBlock.remove(),e.ui.list.find('[data-component="readmore"]').each(function(e,t){s.getInstance(t).collapseContent()})},__HideEmpty:function(){this.ui._listHotel&&this.ui._listContent.hide()}});new d({el:jQuery(".global-wrapper")}).render()},{"../component/float-review-module/view":833,"../component/hotels-2.2/view":1058,"../component/hotels-collections-2.0/list/view":1059,"../component/layout/default-page-layout.js":1082,"../component/ui/carousel/view":2057,"../component/ui/grayscale":2092,"../component/ui/readmore/view":2110,"../component/ui/util":2122,underscore:42}],1059:[function(e,t,i){var o=e("underscore"),n=e("backbone.marionette");e("../../ui/util");t.exports=n.ItemView.extend({el:".hotels-featured-section",template:!1,ui:{prop:".r-list-viewpop",propspan:".r-list-view span",itemText:".hfs-content li",proplist:".hfs-collection-list-prop"},events:{"click @ui.prop":"__PropClick"},onRender:function(){this.__NotPropSelect()},__NotPropSelect:function(){var e=this;o.each(e.ui.itemText,function(e){var t=jQuery(e).find(".hfs-collection-list-prop .prop-item").length;!t&&jQuery(e).find(".r-list-view span").remove()})},__PropClick:function(e){function t(){r.slideUp(),l.removeClass("show-prop expanded").text(i18n.t("Collections.View_More")),n.removeClass("less-morebtn")}var i=jQuery(e.target),o=this,n=o.ui.propspan,l=o.ui.prop,r=o.ui.proplist,s=document.documentElement.scrollTop;i.hasClass("show-prop")?(i.removeClass("show-prop expanded").text(i18n.t("Collections.View_More")),i.parents("span").removeClass("less-morebtn"),i.parents("li").find(".hfs-collection-list-prop").slideToggle()):(t(),i.addClass("show-prop expanded").text(i18n.t("Collections.View_Less")),i.parents("span").addClass("less-morebtn"),i.parents("li").find(".hfs-collection-list-prop").slideToggle({duration:500,step:function(){document.documentElement.scrollTop=s}}))}})},{"../../ui/util":2122,"backbone.marionette":6,underscore:42}],833:[function(e,t,i){var o=e("underscore"),n=e("backbone"),l=e("backbone.marionette");e("../ui/util");t.exports=ReviewBubbleView=l.ItemView.extend({model:new n.Model,template:Handlebars.compile(e("./template.hbs")),modelEvents:{change:"blockControl"},ui:{colseBtn:".review-bubble__reviewers-info span"},events:{"click @ui.colseBtn":"__hide"},initialize:function(){var e,t,i=this;window.screen.width>768?(e=169,t=242):(e=128,t=60),i.reviews=window.dataReviews,i.initializeBlock(e,t);var n=i.getCurrentBlock(e,t),l=null;n&&(l=n.name),i.inviewkey=l,i.blockControl(),i.bodyHeight=document.body.clientHeight,jQuery(window).on("scroll",o.debounce(function(){i.bodyHeight!=document.body.clientHeight&&(i.bodyHeight=document.body.clientHeight,i.initializeBlock(e,t)),i.modelToShow(e,t)},50))},onRender:function(){jQuery(".review-bubble").hide().fadeIn(600)},initializeBlock:function(e,t){var i=this;i.blocks=o.sortBy(o.map(i.reviews,function(e){var t=jQuery("[data-review="+e.title+"]");return t.length?o.map(t,function(t){var i=jQuery(t).offset().top+(jQuery(t).attr("data-review-offset")?Number(jQuery(t).attr("data-review-offset")):0)+jQuery(t).find(".data-review-offset-element").innerHeight();return{name:e,obj:t,start:i,end:jQuery(t).offset().top+jQuery(t).height()}}):void 0}),"start")},modelToShow:function(e,t){var i=this,o=i.getCurrentBlock(e,t),n=null;o?i.inviewkey!=o.name&&(n=o.name,i.inviewkey=n,i.blockControl()):null!=i.inviewkey&&(i.inviewkey=n,i.blockControl())},getCurrentBlock:function(e,t){var i=this,n=jQuery(document).scrollTop(),l=o.map(i.blocks,function(i){return i?o.find(i,function(i){return i&&i.start<n+t&&i.end>n+e+t?i:void 0}):void 0});return o.find(l,function(e){return e?e:void 0})},blockControl:function(){var e=this,t=jQuery(".review-bubble");e.getReview()?(e.render(),e.$el.show()):t.fadeOut(260)},getReview:function(){var e=this,t=e.inviewkey;return t?(e.updateModel(t),!0):null},updateModel:function(e){this.model.set(e)},__hide:function(){var e=this;e.$el.hide()}})},{"../ui/util":2122,"./template.hbs":832,backbone:8,"backbone.marionette":6,underscore:42}],832:[function(e,t,i){t.exports='<div class="review-bubble">\r\n    <div class="review-bubble__reviewers-info"><img src="{{reviewavatar}}">\r\n        <p class="reviewers-text">{{reviewname}}</p><span class="icon-icon_B017"></span>\r\n    </div>\r\n    <div class="review-bubble__review">\r\n        <p class="review-text">"{{review}}"</p>\r\n    </div>\r\n</div>'},{}]},{},[2208]);