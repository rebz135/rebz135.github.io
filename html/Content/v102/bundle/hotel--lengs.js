require=function e(t,n,i){function a(s,r){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return a(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({2200:[function(e,t,n){var i=e("../component/layout/default-page-layout"),a=e("../component/lengs/dining/restaurants"),o=e("../component/lengs/header-and-image/view"),s=e("../component/lengs/image-gallery/gallery-list"),r=e("../component/destination/view"),l=e("../component/lengs/module/view"),c=e("../component/lengs/rooms/view/main-layout-social"),u=e("../component/lengs/useful-information/view"),d=e("../component/lengs/plugins/weather/view"),g=e("../component/share-item/view"),m=e("../component/review-bubble/view"),p=(e("../component/ui/slick/slick"),e("../component/lengs-social/custom-module/view")),h=e("../component/ui/readmore/view"),v=(e("../component/lengs-social/gallery/view"),e("../component/newlook-gallery-popup/popup/view/view.js")),f=e("../component/PromoPopupHotel/view.js"),y=e("../component/newlook-gallery/model/model"),b=e("../component/newlook-gallery/view/view"),w=e("../component/ui/util"),k=i.extend({ui:{dining:'[data-module="lengs-dining"]',headerAndImage:'[data-module="lengs-header-and-image"]',imageGallery:'[data-module="lengs-image-gallery"]',map:'[data-module="lengs-map"]',module:'[data-module="lengs-module"]',rooms:'[data-module="lengs-rooms"]',usefulInformation:'[data-module="lengs-useful-information"]',weather:'[data-plugin="lengs-weather"]',socialimg:".c-lengs-best-share__social img",custom:".c-lengs-custom",reviewSlider:".review__slider",reviewContent:".booking-review__content",galleryPopup:".GalleryPopup",reviewPopup:".ReviewPopup",reviewsSlide:".reviews-wrapper-middle .reviews-wrapper-slide",hoteldescribecontent:".hotel-solo-describe",readmoreContent:".readmoreContent",galleryContent:".new-look-hotel__gallery"},events:{"click .gallary-popup-link ":"openGalleryPopup","click .reviews-container .reviews-left":"doPrev","click .reviews-container .reviews-right":"doNext","click .reviews-container .reviews-total-link":"openPopup"},openGalleryPopup:function(e,t){var n,i,a=jQuery(e.currentTarget);n=a.data("property"),i=a.data("slick-index"),t&&(i+=t),window.location.hash="galleryCategory="+n,"undefined"!=typeof this.galleryPopupView&&this.galleryPopupView&&this.galleryPopupView.openPopup(i)},initialSlick:function(e){this.slicked?(this.currentIndex=this.currentSlide.slick("slickCurrentSlide"),this.currentSlide.slick("unslick"),this.slicked=!1):(this.slicked=!1,this.currentIndex=0),this.currentSlide=this.ui.reviewsSlide.slick({speed:800,infinite:!0,draggable:!1,arrows:!1,swipe:!0,fade:!0,slidesToShow:1,slidesToScroll:1,cssEase:"linear",rtl:"rtl"==jQuery("html").attr("dir")}),this.ui.reviewsSlide.on("beforeChange setPosition init",function(e,t){jQuery(t.$slides[t.currentSlide]).find('[data-component="readmore"]').each(function(e,t){h.getInstance(t).collapseContent()})}),this.slicked=!0,"undefined"!=typeof e&&this.currentSlide.slick("slickGoTo",parseInt(e))},doPrev:function(){this.currentSlide.slick("slickPrev")},doNext:function(){this.currentSlide.slick("slickNext")},openPopup:function(){"undefined"!=typeof this.reviewPopupView&&this.reviewPopupView&&this.reviewPopupView.openPopup()},svgToBase64Image:function(e,t,n){var i=document.createElement("div");i.appendChild(e.cloneNode(!0));var a=(i.innerHTML,'<svg style="opacity:'+n+'"  fill="'+t+'"');i.innerHTML=i.innerHTML.replace(/<svg/,a);var o=window.btoa(i.innerHTML);return"data:image/svg+xml;base64,"+o},LightenDarkenColor:function(e,t){var n=!1;"#"==e[0]&&(e=e.slice(1),n=!0);var i=parseInt(e,16),a=(i>>16)+t;a>255?a=255:0>a&&(a=0);var o=(i>>8&255)+t;o>255?o=255:0>o&&(o=0);var s=(255&i)+t;return s>255?s=255:0>s&&(s=0),(n?"#":"")+(s|o<<8|a<<16).toString(16)},hotelNano:function(){var e=this;setTimeout(function(){e.ui.hoteldescribecontent.nanoScroller({destroy:!0}),e.ui.hoteldescribecontent.nanoScroller({alwaysVisible:!0}),e.ui.readmoreContent.length&&h.getInstance(e.ui.readmoreContent).collapseContent()})},showGalleryContent:function(){var e=this,t=jQuery(window);w.tracker.on("change:scrolltop",function(){e.ui.galleryContent.offset().top<=t.scrollTop()+t.height()&&!e.GalleryContentView&&(w.ismobile()?e.GalleryContentView=new b({el:e.ui.galleryContent,type:"two"}):(e.GalleryContentView=new b({el:e.ui.galleryContent,type:e.ui.galleryContent.data("type")}),e.GalleryContentView.on("click:item",function(t){e.openGalleryPopup(t)}),e.GalleryContentView.on("open:gallery",function(t){e.openGalleryPopup(t)})))})},onRender:function(){function e(){w.tracker.get("scrolltop")+n.height()>i.offset().top&&(new r({el:t.ui.map,lengs:!0,rootView:t}).render(),w.tracker.off("change:scrolltop",e))}var t=this;"undefined"==typeof promoPopupHotel||promoPopupHotel.disable||new f({el:jQuery(".PromoHotelPopup")}).render(),this.currentSlide=t.ui.reviewsSlide,this.initialSlick(),"undefined"==typeof reviewPopup||reviewPopup.Disable||(t.reviewPopupView=new ReviewPopupView({argument:reviewPopup,el:t.ui.reviewPopup})),t.ui.imageGallery.append(new s({rootView:t}).render().el),t.vscape=new y({hotelcode:window.hotelcode}),t.vscape.fetch().then(function(){window.vscapeimageData=t.vscape,w.ismobile()?t.GalleryView=new b({el:t.ui.galleryHero,type:"hero"}):t.ui.galleryPopup.length&&(t.galleryPopupView=new v({el:t.ui.galleryPopup}).render()),t.ui.galleryContent&&t.ui.galleryContent.length&&t.vscape.get("categories").length&&t.showGalleryContent()});var n=jQuery(window),i=t.ui.map;w.tracker.on("change:scrolltop",e).trigger("change:scrolltop"),t.ui.rooms.append(new c({rootView:t}).render().el);var k=t.$el.find(".c-lengs-select-room").css("background-color");t.$el.find(".c-lengs-text-module-float-bg").attr("svg-color",k),t.$el.find(".c-lengs-rooms-footbg").attr("svg-color",k),t.ui.dining.each(function(e,t){new a({el:t}).render()});for(var _=0;_<t.ui.module.length;_++)new l({el:t.ui.module[_]}).render();for(var _=0;_<t.ui.headerAndImage.length;_++)new o({el:t.ui.headerAndImage[_]}).render();new u({el:t.ui.usefulInformation}).render(),new d({el:t.ui.weather}).render(),g.autoCreate();for(var x=jQuery(".js-svgbg"),_=0;_<jQuery(".js-svgbg").length;_++){var j=jQuery(x[_]).attr("svg-type"),C=jQuery(x[_]).attr("svg-color"),S=jQuery(x[_]).attr("svg-darken"),I=jQuery(x[_]).attr("svg-opacity")||1,P=jQuery("svg[name='"+j+"']"),Q=C;if(S&&(Q=t.LightenDarkenColor(C,parseInt(S))),P.length>0){for(var V=[],L=0;L<P.length;L++)V.push('url("'+t.svgToBase64Image(P[L],Q,I)+'")');var R=V.join(",");jQuery(x[_]).css({background:R})}}new m({el:".hotel-review-bubble"});t.ui.reviewSlider.on("afterChange setPosition init",function(e,n){t.ui.reviewContent.nanoScroller({destroy:!0}),t.ui.reviewContent.nanoScroller({alwaysVisible:!0}),jQuery(n.$slides[n.currentSlide]).find('[data-component="readmore"]').each(function(e,t){h.getInstance(t).collapseContent()})}).slick({prevArrow:".reviewer-control .prev",nextArrow:".reviewer-control .next",fade:!0,speed:200,infinite:!1,adaptiveHeight:!0,rtl:"rtl"==jQuery("html").attr("dir")}),new p({el:this.ui.custom}).render(),this.hotelNano(),t.listenTo(w.tracker,"change:size",function(){this.hotelNano()})}});new k({el:jQuery(".global-wrapper")}).render()},{"../component/PromoPopupHotel/view.js":64,"../component/destination/view":825,"../component/layout/default-page-layout":1082,"../component/lengs-social/custom-module/view":1086,"../component/lengs-social/gallery/view":1089,"../component/lengs/dining/restaurants":1094,"../component/lengs/header-and-image/view":1095,"../component/lengs/image-gallery/gallery-list":1097,"../component/lengs/module/view":1101,"../component/lengs/plugins/weather/view":1104,"../component/lengs/rooms/view/main-layout-social":1107,"../component/lengs/useful-information/view":1109,"../component/newlook-gallery-popup/popup/view/view.js":1477,"../component/newlook-gallery/model/model":1482,"../component/newlook-gallery/view/view":1484,"../component/review-bubble/view":1923,"../component/share-item/view":1940,"../component/ui/readmore/view":2110,"../component/ui/slick/slick":2118,"../component/ui/util":2122}],1109:[function(e,t,n){var i=e("backbone.marionette");t.exports=i.LayoutView.extend({events:{"click @ui.toggle":"toggle"},template:!1,ui:{toggle:".js-useful-information-toggle"},initialize:function(){this.expanded=!1},toggle:function(e){e.preventDefault(),this.expanded?(this.$el.removeClass("is-expanded"),this.expanded=!1):(this.$el.addClass("is-expanded"),this.expanded=!0)}})},{"backbone.marionette":6}],1107:[function(e,t,n){var i=e("underscore"),a=e("backbone"),o=e("backbone.marionette"),s=e("../../../abmb/stateful.js"),r=e("../../../booking/model"),l=e("../../../available-room/model/room-collection"),c=e("./select-room-social.js"),u=e("../../../available-room/view/room-details/view"),d=(e("../../../ui/util.js"),e("../assets/main-layout-social.hbs"));t.exports=o.LayoutView.extend(i.extend({},s,{className:"tpl-booking c-lengs-rooms-component",id:"hotel-booking-search-bar",template:Handlebars.compile(d),regions:{content:".js-rooms-component"},initialize:function(e){var t=this;t.switchState("loading:show");var n=new r;n.set("selectroom",lengsSonicalHotel.lengs_selectroom),n.set("memories",lengsSonicalHotel.lengs_memories),n.set("roomPhoto",lengsSonicalHotel.lengs_roomPhoto),n.set("lengsboolean",lengsSonicalHotel.lengs_boolean),t.collection=new l({checkoutParam:n}),t.selectRoomView=new c({rootView:t.options.rootView,model:n}),t.roomDetailView=new u},onRender:function(){var e=this;e.$el.prepend(e.selectRoomView.render().el),e.$el.find(".js-edit").attr("href",lengsSonicalHotel.url);var t=0,n=lengsSonicalHotel.roomtypes.length,o=new a.Collection(i.map(lengsSonicalHotel.roomtypes,function(e){return e.currency=lengsSonicalHotel.currency,e.lengs_boolean=lengsSonicalHotel.lengs_boolean,e}));e.roomDetailView.render(),e.roomDetailView.showPrev(o.models[0]),e.roomDetailView.on("view:prev",function(){t-1>-1&&(e.roomDetailView.showPrev(o.at(--t)),e.roomDetailView.pattern({index:t,count:n}))}),e.roomDetailView.on("view:next",function(){n>t+1&&(e.roomDetailView.showNext(o.at(++t)),e.roomDetailView.pattern({index:t,count:n}))}),e.roomDetailView.pattern({index:t,count:n}),e.content.show(e.roomDetailView,{preventDestroy:!0})}}))},{"../../../abmb/stateful.js":72,"../../../available-room/model/room-collection":168,"../../../available-room/view/room-details/view":183,"../../../booking/model":406,"../../../ui/util.js":2122,"../assets/main-layout-social.hbs":1105,"./select-room-social.js":1108,backbone:8,"backbone.marionette":6,underscore:42}],1108:[function(e,t,n){var i=(e("underscore"),e("backbone"),e("backbone.marionette"));t.exports=i.ItemView.extend({template:Handlebars.compile(e("../assets/select-room-social.hbs")),className:"c-lengs-select-room data-review-offset-element",ui:{bookButton:".c-lengs-select-room__edit-link"},initialize:function(){var e=this;e.parseOccupancy(),e.model.on("change",function(){e.parseOccupancy()}),window.CRSNotice&&1===window.CRSNotice.tag&&e.model.set("disable",1)},onRender:function(){var e=this;window.CRSNotice&&1===window.CRSNotice.tag&&e.ui.bookButton.hide()},parseOccupancy:function(){var e=this,t=e.model.get("occupancy").toArray(),n=t[0].get("value"),i=t[1].get("value"),a=t[2].get("value");e.model.set("rooms",{label:n>1?t[0].get("labels"):t[0].get("label"),value:n}),e.model.set("adults",{label:i>1?t[1].get("labels"):t[1].get("label"),value:i}),e.model.set("children",{label:a>1?t[2].get("labels"):t[2].get("label"),value:a}),e.render()}})},{"../assets/select-room-social.hbs":1106,backbone:8,"backbone.marionette":6,underscore:42}],1106:[function(e,t,n){t.exports='{{!-- The contents of the select a room component (the gold bar\r\n      containing a booking summary) --}}\r\n<!--<h2 class="c-lengs-select-room__header">{{local\r\n    \'Property.select_a_room\'}}</h2>-->\r\n<div class="c-lengs-select-room__header-content" >\r\n    <div>\r\n        <h2 class="c-lengs-select-room__header" >{{selectroom}}</h2 >\r\n        <a class="photo">\r\n            {{#not-equal roomPhoto \'0\'}}\r\n                <span class="icon icon-icon_A013"></span>\r\n                <span data-property="Property.Guest_Rooms" class="text gallary-popup-link">{{roomPhoto}} {{#equal roomPhoto \'1\'}}{{local \'general.photo\'}}{{/equal}}{{#not-equal roomPhoto \'1\'}}{{local \'general.photos\'}}{{/not-equal}}</span>\r\n            {{/not-equal}}\r\n        </a>\r\n    </div>\r\n    {{!-- Dates --}}\r\n    <div class="c-lengs-select-room__parameter" >\r\n\r\n        <!--<h3 class="c-lengs-select-room__parameter__header">{{local\r\n            \'Property.memories\'}}</h3>-->\r\n        <h3 class="c-lengs-select-room__parameter__header" >{{memories}}</h3 >\r\n    </div >\r\n</div >\r\n{{!-- Edit booking button (to show the booking component) --}}\r\n{{#if lengsboolean}}\r\n        <a class="c-lengs-select-room__edit-link js-edit {{#equal disable \'1\'}}disable-crs{{/equal}}" href=""  title="Edit your booking" >{{local \'Property.lengs_book_suite\'}}</a >\r\n    {{else}}\r\n        <a class="c-lengs-select-room__edit-link js-edit {{#equal disable \'1\'}}disable-crs{{/equal}}" href=""  title="Edit your booking" >{{local \'Property.lengs_book\'}}</a >\r\n{{/if}}\r\n'},{}],1105:[function(e,t,n){t.exports='{{!-- This is the container for the list of available room types --}}\r\n<div class="tpl-booking-content c-lengs-rooms js-rooms-component"></div>\r\n<div class="c-lengs-text-module-float-bg js-svgbg " svg-type="circle" svg-color="#FF8165"></div>\r\n<div class="c-lengs-rooms-footbg js-svgbg" svg-type="ornament" svg-color="#FF8165"></div>\r\n'},{}],1104:[function(e,t,n){var i=e("underscore"),a=e("backbone.marionette"),o=e("./model");WeatherView=t.exports=a.ItemView.extend(i.extend({},{template:Handlebars.compile(e("./template.hbs")),initialize:function(){this.model=new o({location:this.$el.data("location")}),this.model.get("location")&&this.model.fetch().then(i.bind(this.render,this))}}))},{"./model":1102,"./template.hbs":1103,"backbone.marionette":6,underscore:42}],1103:[function(e,t,n){t.exports='<aside id="weather" class="c-lengs-hero__aside">\r\n  <i class="icon-icon_{{icon}} c-lengs-hero__aside__icon"></i>\r\n  <span class="c-lengs-hero__aside__details">{{centigrade}}&#8451; / {{fahrenheit}}&#8457;</span>\r\n</aside>'},{}],1102:[function(e,t,n){var i=(e("underscore"),e("backbone")),a=e("../../../../../config/host.js");WeatherModel=t.exports=i.Model.extend({url:function(){return a.getURL("weather",this.get("location"))},defaults:{icon:"35",fahrenheit:"",condition:""}})},{"../../../../../config/host.js":45,backbone:8,underscore:42}],1101:[function(e,t,n){var i=e("underscore"),a=e("backbone.marionette");t.exports=a.View.extend({template:!1,ui:{content:".js-module-content",text:".js-module-text"},getTextHeight:function(){for(var e=0,t=0;t<this.ui.text.length;t++)e+=jQuery(this.ui.text[t]).outerHeight(!0);return e},initialize:function(){var e=this;this.ui={content:this.$el.find(".js-module-content"),firstImage:this.$el.find(".c-lengs-module__image:nth-of-type(1)"),text:this.$el.find(".js-module-text")},this.is3Image=this.$el.hasClass("c-lengs-module--three-images"),jQuery(window).resize(i.debounce(i.bind(function(){e.resize()},this),500)),e.resize()},resize:function(){var e=jQuery(window).height()-80,t=this.getTextHeight(),n=jQuery(window).width()>768,i=null,a=null,o=t+20+"px";i=t>.4*e?2.5*t/e*100:120;var s=(e+80)*i/100;a=this.is3Image?s-(t+20+.1*s)+"px":s-(t+20)+"px",n?(jQuery(this.ui.content).height(i+"vh"),jQuery(this.ui.firstImage).css({height:a,top:o})):(jQuery(this.ui.content).height("auto"),jQuery(this.ui.firstImage).css({height:"60vh"}))}})},{"backbone.marionette":6,underscore:42}],1097:[function(e,t,n){var i=e("underscore"),a=(e("backbone"),e("backbone.marionette")),o=e("./model"),s=e("./gallery"),r=e("../../abmb/stateful"),l=e("../../ui/util");t.exports=a.ItemView.extend(i.extend({},r,{events:{"click @ui.nextGallery":"nextGallery","click @ui.previousGallery":"previousGallery"},template:Handlebars.compile(e("./gallery-list.hbs")),ui:{navigationState:".js-navigation-state",nextGallery:".js-next-gallery",previousGallery:".js-previous-gallery",galleries:".js-image-gallery",galleriesContainer:".js-image-galleries"},"goto":function(e){var t=this;this.reset(),jQuery(t.galleries[e]).addClass("is-active"),setTimeout(function(){jQuery(t.galleries[e]).addClass("is-shown")},200),this.updateNavigation()},initialize:function(){var e=this;e.switchState("loading:show"),e.galleries=[],window.hotelcode||(window.hotelcode=l.queryparam("hotelcode")),e.model=new o({hotelcode:window.hotelcode}),e.model.set({currentGallery:0,galleries:[]},{silent:!0}),e.model.fetch().then(function(){e.render(),e["goto"](0),e.switchState("loading:hide")}),e.model.on("change:currentGallery",function(t,n){e["goto"](t.get("currentGallery"))})},nextGallery:function(e){e.preventDefault();var t=this.model.get("currentGallery");t===this.galleries.length-1?this.model.set({currentGallery:0}):this.model.set({currentGallery:t+1})},onRender:function(){for(var e=this,t=e.model.get("galleries"),n=0;n<t.length;n++){var i=new s({model:t[n]}).render().el;this.galleries.push(i),e.ui.galleriesContainer.append(i)}e.model.set({currentGallery:0})},previousGallery:function(e){e.preventDefault();var t=this.model.get("currentGallery");0==t?this.model.set({currentGallery:this.galleries.length-1}):this.model.set({currentGallery:t-1})},reset:function(){removeShown=function(e){setTimeout(function(){jQuery(e).removeClass("is-shown")},200)};for(var e=0;e<this.galleries.length;e++){var t=this.galleries[e];jQuery(t).removeClass("is-active"),removeShown(t)}},updateNavigation:function(){var e=this.model.get("currentGallery");jQuery(this.ui.navigationState).text(e+1+" of "+this.galleries.length)}}))},{"../../abmb/stateful":72,"../../ui/util":2122,"./gallery":1099,"./gallery-list.hbs":1096,"./model":1100,backbone:8,"backbone.marionette":6,underscore:42}],1100:[function(e,t,n){var i=(e("underscore"),e("backbone")),a=e("../../../../config/host.js");GalleryModel=t.exports=i.Model.extend({initialize:function(e){this.url=a.getURL("api","data/vscapeimage?propertyid="+e.hotelcode)},parse:function(e){var t={};t.galleries=[];for(var n=0;n<e.arc.length;n++)t.galleries.push(new i.Model(e.arc[n]));return t}})},{"../../../../config/host.js":45,backbone:8,underscore:42}],1099:[function(e,t,n){var i=e("underscore"),a=e("backbone"),o=e("backbone.marionette"),s=e("../carousel/view/carousel"),r=e("./gallery.hbs");t.exports=ImageGalleryView=o.ItemView.extend({className:"c-lengs-image-gallery js-image-gallery",template:Handlebars.compile(r),ui:{carousel:".js-image-carousel"},onRender:function(){this.carousel=new s({el:this.ui.carousel,canSwipe:!0,hasPagination:!0,hasNavigation:!1,interval:4e3,isAutoplay:!1,model:new a.Model({classes:{item:"c-lengs-image-gallery__image",items:"c-lengs-image-gallery__images",pagination:"c-lengs-pagination",paginationItem:"c-lengs-pagination__item",paginationItems:"c-lengs-pagination__items",paginationLink:"c-lengs-pagination__item__link"},items:i.map(this.model.get("images"),function(e){return'<div class="c-lengs-background-image c-lengs-image-gallery__image__container c-lengs-image-gallery__image__container--desktop" style="background-image: url(\''+e.desktopUrl+'\')"></div><div class="c-lengs-background-image c-lengs-image-gallery__image__container c-lengs-image-gallery__image__container--mobile" style="background-image: url(\''+e.mobileUrl+'\')"></div><span class="c-lengs-image-gallery__caption">'+e.title+"</span>"}),markup:{pagination:'<span class="c-lengs-pagination__label">'+i18n.t("Property.more_images")+"</span>"}}),pauseOnHover:!1}).render()}})},{"../carousel/view/carousel":1093,"./gallery.hbs":1098,backbone:8,"backbone.marionette":6,underscore:42}],1098:[function(e,t,n){t.exports='<header class="c-lengs-header c-lengs-image-gallery__header">\r\n\r\n    <h2 class="c-lengs-header__title">\r\n        <div class="c-lengs-header__subtitle">{{local \'Property.gallery\'}}</div>\r\n        {{categoryName}}\r\n    </h2>\r\n\r\n</header>\r\n\r\n<div class="c-lengs-image-gallery__image-carousel js-image-carousel"></div>'},{}],1096:[function(e,t,n){t.exports='{{!-- This is the content of the gallery list component --}}\r\n\r\n{{!-- A loading indicator --}}\r\n<div class="loading-block">\r\n    <p class="loading-gif"></p>\r\n</div>\r\n\r\n<div class="c-lengs-image-galleries js-image-galleries">\r\n\r\n    {{!-- Navigation for the galleries carousel --}}\r\n    <div class="c-lengs-carousel-navigation c-lengs-carousel-navigation--compact c-lengs-image-gallery__navigation">\r\n        <a class="c-lengs-carousel-navigation__link c-lengs-carousel-navigation__link--previous js-previous-gallery"\r\n           href="" title="" style="height: 16px">\r\n            <i class="icon-icon_chervonLeft c-icon c-icon--default c-lengs-carousel-navigation__icon"></i>\r\n            <span class="c-lengs-carousel-navigation__label">{{local "general.prev"}}</span>\r\n        </a>\r\n        <span class="c-lengs-carousel-navigation__state js-navigation-state"></span>\r\n        <a class="c-lengs-carousel-navigation__link c-lengs-carousel-navigation__link--next js-next-gallery" href=""\r\n           title="" style="height: 16px">\r\n            <span class="c-lengs-carousel-navigation__label">{{local "general.next"}}</span>\r\n            <i class="icon-icon_chervonRight c-icon c-icon--default c-lengs-carousel-navigation__icon"></i>\r\n        </a>\r\n    </div>\r\n\r\n</div>'},{}],1095:[function(e,t,n){var i=e("underscore"),a=e("backbone.marionette");t.exports=a.View.extend({template:!1,ui:{large:".js-large-screen-container",small:".js-small-screen-container"},initialize:function(){var e=this;e.ui={large:e.$el.find(".js-large-screen-container"),small:e.$el.find(".js-small-screen-container")},e.isLarge=!0,jQuery(window).resize(i.debounce(i.bind(function(){e.determineLayout()},e),500)),e.determineLayout()},determineLayout:function(){var e=jQuery(window).width()>768;!e&&this.isLarge?(this.toggleContent("large-to-small"),this.$el.addClass("is-small")):e&&!this.isLarge&&(this.toggleContent("small-to-large"),this.$el.removeClass("is-small"))},toggleContent:function(e){switch(e){case"large-to-small":jQuery(this.ui.large.contents()).appendTo(this.ui.small);break;case"small-to-large":jQuery(this.ui.small.contents()).appendTo(this.ui.large)}this.isLarge=!this.isLarge}})},{"backbone.marionette":6,underscore:42}],1094:[function(e,t,n){var i=e("underscore"),a=e("backbone"),o=e("../carousel/view/carousel"),s=e("backbone.marionette"),r=e("../../abmb/stateful");e("../../ui/util"),t.exports=s.ItemView.extend(i.extend({},r,{events:{"click @ui.nextRestaurant":"nextRestaurant","click @ui.previousRestaurant":"previousRestaurant"},template:!1,ui:{navigationState:".js-navigation-state",nextRestaurant:".js-next-restaurant",previousRestaurant:".js-previous-restaurant",restaurants:".js-restaurant"},"goto":function(e){var t=this;this.reset(),jQuery(t.ui.restaurants[e]).addClass("is-active"),setTimeout(function(){jQuery(t.ui.restaurants[e]).addClass("is-shown")},200),this.updateNavigation()},initialize:function(){var e=this,t=0;e.ui={navigationState:this.$el.find(".js-navigation-state"),nextRestaurant:this.$el.find(".js-next-restaurant"),previousRestaurant:this.$el.find(".js-previous-restaurant"),restaurants:this.$el.find(".js-restaurant")},e.model=new a.Model({currentRestaurant:t,restaurants:e.ui.restaurants}),e["goto"](t),e.model.on("change:currentRestaurant",function(t,n){e["goto"](t.get("currentRestaurant"))});for(var n=0;n<e.ui.restaurants.length;n++){var i=jQuery(e.ui.restaurants[n]).find(".js-image-carousel"),s=jQuery.map(jQuery(e.ui.restaurants[n]).find(".js-image-carousel__image"),function(e){return e.outerHTML});jQuery(i).empty(),new o({el:i,canSwipe:!0,hasPagination:!0,hasNavigation:!1,interval:4e3,isAutoplay:!1,model:new a.Model({classes:{item:"c-lengs-dining__restaurant__image",items:"c-lengs-dining__restaurant__images",pagination:"c-lengs-pagination",paginationItem:"c-lengs-pagination__item",paginationItems:"c-lengs-pagination__items",paginationLink:"c-lengs-pagination__item__link"},items:s,markup:{pagination:'<span class="c-lengs-pagination__label">'+i18n.t("Property.more_images")+"</span>"}}),pauseOnHover:!1}).render()}},nextRestaurant:function(e){e.preventDefault();var t=this.model.get("currentRestaurant");t===this.ui.restaurants.length-1?this.model.set({currentRestaurant:0}):this.model.set({currentRestaurant:t+1})},previousRestaurant:function(e){e.preventDefault();var t=this.model.get("currentRestaurant");0==t?this.model.set({currentRestaurant:this.ui.restaurants.length-1}):this.model.set({currentRestaurant:t-1})},reset:function(){removeShown=function(e){setTimeout(function(){jQuery(e).removeClass("is-shown")},200)};for(var e=0;e<this.ui.restaurants.length;e++){var t=this.ui.restaurants[e];jQuery(t).removeClass("is-active"),removeShown(t)}},updateNavigation:function(){var e=this.model.get("currentRestaurant");jQuery(this.ui.navigationState).text(e+1+" of "+this.ui.restaurants.length),this.ui.restaurants.length<=1&&(this.ui.nextRestaurant.hide(),this.ui.previousRestaurant.hide(),this.ui.navigationState.hide())}}))},{"../../abmb/stateful":72,"../../ui/util":2122,"../carousel/view/carousel":1093,backbone:8,"backbone.marionette":6,underscore:42}],1093:[function(e,t,n){var i=(e("backbone"),e("backbone.marionette")),a=Handlebars.compile(e("../assets/carousel.hbs")),o=Handlebars.compile(e("../assets/carousel-navigation.hbs")),s=Handlebars.compile(e("../assets/carousel-pagination.hbs"));t.exports=i.ItemView.extend({events:{"click @ui.next":"next","click @ui.paginationLinks":"paginate","click @ui.previous":"previous","mouseover @ui.items":"pause","mouseout @ui.items":"resume"},template:!1,ui:{items:".js-carousel-item",next:".js-carousel-next",paginationLinks:".js-carousel-pagination__link",previous:".js-carousel-previous"},addNavigation:function(){this.$el.append(o({className:{previous:this.model.attributes.classes.previous,next:this.model.attributes.classes.next},next:this.model.attributes.markup.next,previous:this.model.attributes.markup.previous}))},addPagination:function(){this.model.attributes.items.length>1&&this.$el.append(s({className:{pagination:this.model.attributes.classes.pagination,paginationItem:this.model.attributes.classes.paginationItem,paginationItems:this.model.attributes.classes.paginationItems,paginationLink:this.model.attributes.classes.paginationLink},items:this.model.attributes.items,markup:this.model.attributes.markup.pagination}))},"goto":function(e){var t=this;this.reset(),jQuery(t.ui.items[e]).addClass("is-active"),this.showSlide(t.ui.items[e]),this.options&&this.options.hasPagination&&jQuery(this.ui.paginationLinks[e]).addClass("is-active"),this.options&&this.options.isAutoplay&&this.startAutoplay()},initialize:function(e){var t=this;this.options=e,this.options.canSwipe&&this.setupSwipe(),jQuery(t.$el).attr("id",t.model.get("id")),t.model.on("change:currentItem",function(e,n){t["goto"](e.get("currentItem"))})},next:function(e){e&&e.preventDefault(),this.model.attributes.currentItem==this.model.attributes.items.length-1?this.model.set({currentItem:0}):this.model.set({currentItem:this.model.attributes.currentItem+1})},onBeforeRender:function(){this.$el.append(a({itemClass:this.model.attributes.classes.item||"",itemsClass:this.model.attributes.classes.items||"",items:this.model.attributes.items})),this.options&&this.options.hasNavigation&&this.addNavigation(),this.options&&this.options.hasPagination&&this.addPagination()},onRender:function(){this.ui={items:jQuery(this.$el).find(" > .js-carousel-items > .js-carousel-item"),next:jQuery(this.$el).find("> .js-carousel-next"),paginationLinks:jQuery(this.$el).find("> .js-carousel-pagination .js-carousel-pagination__link"),previous:jQuery(this.$el).find("> .js-carousel-previous")},this.delegateEvents(),this.model.set({currentItem:0})},paginate:function(e){e.preventDefault(),this.model.set({currentItem:jQuery(e.target).data("index")})},pause:function(){this.options&&this.options.isAutoplay&&this.options.pauseOnHover&&this.stopAutoplay()},previous:function(e){e.preventDefault(),0==this.model.attributes.currentItem?this.model.set({currentItem:this.model.attributes.items.length-1}):this.model.set({currentItem:this.model.attributes.currentItem-1})},reset:function(){removeShown=function(e){setTimeout(function(){jQuery(e).removeClass("is-shown")},200)};for(var e=0;e<this.model.attributes.items.length;e++){var t=this.ui.items[e];jQuery(t).removeClass("is-active"),removeShown(t),this.options&&this.options.hasPagination&&jQuery(this.ui.paginationLinks[e]).removeClass("is-active")}},resume:function(){this.options&&this.options.isAutoplay&&this.options.pauseOnHover&&this.startAutoplay()},setupSwipe:function(){var e=this;this.$el.hammer({touchAction:"pan-y"}).on("swipeleft swiperight",function(t){switch(t.type){case"swipeleft":e.next(t);break;case"swiperight":e.previous(t)}})},showSlide:function(e){setTimeout(function(){jQuery(e).addClass("is-shown")},200)},startAutoplay:function(){var e=this,t=this.options.interval||4e3;e.stopAutoplay(),this.model.set({timeout:setTimeout(function(){e.next()},t)})},stopAutoplay:function(){var e=this.model.get("timeout");e&&clearInterval(e)}})},{"../assets/carousel-navigation.hbs":1090,"../assets/carousel-pagination.hbs":1091,"../assets/carousel.hbs":1092,backbone:8,"backbone.marionette":6}],1092:[function(e,t,n){t.exports='{{!-- The carousel items container + items. Each item is\r\n      custom markup. A class may be added to the container\r\n      for custom styling. --}}\r\n<ul class="c-lengs-carousel__items js-carousel-items {{itemsClass}}">\r\n    {{#each items}}\r\n        <li class="c-lengs-carousel__item js-carousel-item {{../itemClass}}">{{{this}}}</li>\r\n    {{/each}}\r\n</ul>'},{}],1091:[function(e,t,n){t.exports='{{!-- The pagination dots to navigate through a collection\r\n      of carousel items. Some optional markup can be provided\r\n      to be displayed before the pagination buttons, but the\r\n      buttons themselves will just be presentational and not\r\n      contain any markup. Custom classes should be provided\r\n      for styling. --}}\r\n\r\n<div class="c-lengs-carousel__pagination js-carousel-pagination {{className.pagination}}">\r\n\r\n    {{{markup}}}\r\n\r\n    <ul class="c-lengs-carousel__pagination__items {{className.paginationItems}}">\r\n        {{#each items}}\r\n            <li class="c-lengs-carousel__pagination__item {{../className.paginationItem}}">\r\n                <a class="c-lengs-carousel__pagination__item__link js-carousel-pagination__link {{../className.paginationLink}}" data-index="{{@index}}" href="" title=""></a>\r\n            </li>\r\n        {{/each}}\r\n    </ul>\r\n\r\n</div>'},{}],1090:[function(e,t,n){t.exports='<a class="c-lengs-carousel__navigation c-lengs-carousel__navigation--previous js-carousel-previous {{className.previous}}" href="" title="{{local \'Property.previous_image\'}}">{{{previous}}}</a>\r\n<a class="c-lengs-carousel__navigation c-lengs-carousel__navigation--next js-carousel-next {{className.next}}" href="" title="{{local \'Property.next_image\'}}">{{{next}}}</a>'},{}],1089:[function(e,t,n){var i=(e("backbone"),e("backbone.marionette")),a=(e("underscore"),e("../../ui/util")),o=e("./model"),s=e("./template.hbs"),r=e("../../ui/carousel/view");t.exports=i.LayoutView.extend({template:function(e){return Handlebars.compile(s)(e)},ui:{galleryNavList:".lengs-gallery-nav ul li",galleryListContent:".lengs-gallery-nav ul",galleryImg:".lengs-gallery-image",galleryImgItem:'[data-content="item-galleryImg"]',galleryCurrentVal:'[data-value="currentVal"]'},events:{"click @ui.galleryNavList":"setCurrentGallery",
"click @ui.galleryCurrentVal":"galleryCurrentNav","click video":"playVideo"},initialize:function(){var e=this;window.hotelcode||(window.hotelcode=a.queryparam("hotelcode")),e.model=new o({hotelcode:window.hotelcode}),e.model.fetch().then(function(){e.render()}),jQuery(window).resize(function(){var e=a.isFullScreen()}),this.listenFullScreenChange(),a.tracker.on("change:mobile",function(){e.render()})},onRender:function(){var e=this;if(e.ui.galleryImgItem.hide(),e.ui.galleryImgItem.first().show(),e.ui.galleryNavList.first().addClass("active").show(),a.ismobile()){var t=e.ui.galleryNavList.first().text();e.ui.galleryCurrentVal.text(t)}r.autoCreate()},setCurrentGallery:function(e){var t=jQuery(e.target),n=this;t.parent().addClass("active").siblings(".active").removeClass("active"),n.ui.galleryImgItem.hide();var i=t.attr("data-key"),o=n.ui.galleryImg.find('[data-id="'+i+'"]');if(o.fadeIn(),a.ismobile()){var s=t.html();n.ui.galleryCurrentVal.html(s),n.ui.galleryListContent.slideUp()}},galleryCurrentNav:function(){if(a.ismobile()){var e=this;e.ui.galleryListContent.slideToggle()}},playVideo:function(e){this.$(e.target).removeClass("opacity-zero");var t=this.$(e.target)[0];t.play(),a.launchFullscreen(t),this.monitorPlayEnd(t)},listenFullScreenChange:function(){var e=this;if(a.fullscreenSupport()){var t=a.fullscreenChangeType();t&&document.addEventListener(t,function(){var t=a.isFullScreen();if(!t){var n=e.$("video");n.addClass("opacity-zero"),n.each(function(e,t){t.pause()})}})}},monitorPlayEnd:function(e){var t=jQuery(e);t.on("ended",function(){a.exitFullScreen(),t.addClass("opacity-zero")})}})},{"../../ui/carousel/view":2057,"../../ui/util":2122,"./model":1087,"./template.hbs":1088,backbone:8,"backbone.marionette":6,underscore:42}],1088:[function(e,t,n){t.exports='<div class="lengs-gallery-nav">\r\n    <div class="lg-title">{{local \'Property.gallery\'}}</div>\r\n    <div class="lg-nav-list">\r\n        <div class="current" data-value="currentVal"></div>\r\n        <ul>\r\n            {{#each arc}}\r\n                <li><a href="javascript:;" data-key="{{categoryKey}}">{{categoryName}}</a></li>\r\n            {{/each}}\r\n        </ul>\r\n    </div>\r\n</div>\r\n\r\n<div class="lengs-gallery-image">\r\n    {{#each arc}}\r\n        <div class="lg-item" data-content="item-galleryImg" data-id="{{categoryKey}}">\r\n            <div data-component="carousel" data-text="" data-mobiletext="true" data-index="true" data-hasrlbutton="true" data-hasindexbutton="true" class="tpl-brands-ection-collection">\r\n\r\n                {{#each images}}\r\n                    <div data-text="{{title}}" style="background-image: url(\'{{#if ../../mobile}}{{encode mobileUrl}}{{else}}{{encode desktopUrl}}{{/if}}\')" class="tpl-hero-slider {{image_anchor}}"></div>\r\n                {{/each}}\r\n                {{#each image360}}\r\n                    <div class="tpl-hero-slider">\r\n                        {{#if resourseurl}}\r\n                            <iframe src="{{encode resourseurl}}" scrolling="auto" style=" width: 100%;height: 100%;"></iframe>\r\n                        {{else}}\r\n                            <div class="dragItem" style="background-image: url(\'{{encode url}}\')"></div>\r\n                        {{/if}}\r\n                        <span class="panoimageICON icon"></span>\r\n\r\n                    </div>\r\n                {{/each}}\r\n                {{#each video}}\r\n                    <div data-text="{{title}}" style="background-image: url(\'{{placeholder}}\')" class="tpl-hero-slider {{image_anchor}}">\r\n                        <div class="play"></div>\r\n                        <video src="{{url}}" class="opacity-zero" controls="controls"\r\n                               width="100%" height="100%">\r\n                        </video>\r\n                        <div class="video-placeholder {{image_anchor}}" style="background-image: url(\'{{placeholder}}\')"></div>\r\n                    </div>\r\n                {{/each}}\r\n\r\n            </div>\r\n        </div>\r\n    {{/each}}\r\n</div>\r\n'},{}],1087:[function(e,t,n){var i=(e("underscore"),e("backbone")),a=e("../../../../config/host.js");CompetitionModel=t.exports=i.Model.extend({initialize:function(e){this.url=a.getURL("api","data/vscapeimage?propertyid="+e.hotelcode)}})},{"../../../../config/host.js":45,backbone:8,underscore:42}],1086:[function(e,t,n){var i=(e("backbone"),e("backbone.marionette")),a=e("underscore"),o=e("./model"),s=e("./template.hbs"),r=e("../../ui/util"),l=e("../../ui/carousel/view");t.exports=i.LayoutView.extend({template:function(e){return Handlebars.compile(s)(e)},ui:{carousel:".custom__slick",customModule:".c-lengs-custom-module",item:".content-block a.item",popState:".pop-state",initialState:".initial-state",closeBtn:".close--button",readMore:".pop-state .right .read-more",text:".pop-state .right .text",popContent:".pop-state .content",imgLazy:".content-block img"},events:{"click @ui.item":"showPop","click @ui.closeBtn":"showInitial","click @ui.readMore":"showText"},initialize:function(){var e=this;e.model=new o({hotelcode:window.hotelguid}),e.model.fetch().then(function(){e.model.get("custom")?e.render():(e.ui.customModule.remove(),jQuery(".menu-property .item a[href='#discover']").remove(),r.renderNavbar())}),r.tracker.on("change:mobile",function(){e.render()})},serializeData:function(){var e=this.model.get("custom")||[];return e=a.sortBy(e,function(e){return e.index}),{bg:this.model.get("bg"),title:this.model.get("title"),titleMsg:this.model.get("titleMsg"),leftCustom:a.where(e,{classes:"left"}),centerCustom:a.where(e,{classes:"center"}),rightCustom:a.where(e,{classes:"right"}),custom:this.model.get("custom")}},onRender:function(){var e=this;l.autoCreate();var t=parseInt(e.ui.text.css("line-height")),n=4*t;r.ismobile()&&e.ui.text.css({height:n}),e.imgLazyLoad(),setTimeout(function(){e.initialSlick()},0)},showPop:function(e){var t=this,n=jQuery(e.currentTarget),i=n.attr("data-id"),a=t.ui.customModule.parents(".c-lengs-custom").offset().top-70;if(i){var o=t.ui.popContent.find("*[data-id="+i+"]").attr("data-slick-index");t.ui.popState.show(),t.ui.initialState.hide(),setTimeout(function(){t.ui.carousel.slick("setPosition")},0),t.initialSlick(o),jQuery("html,body").animate({scrollTop:a},500)}},showInitial:function(){var e=this;e.ui.popState.hide(),e.ui.initialState.show()},showText:function(e){var t=this,n=jQuery(e.currentTarget);r.ismobile()&&(n.parent().find(".text").css({height:"auto"}),n.css({display:"none"}),setTimeout(function(){t.ui.carousel.slick("setPosition")},0))},initialSlick:function(e){var t=this;this.slicked?(this.currentIndex=this.currentOverlaySlide.slick("slickCurrentSlide"),this.currentOverlaySlide.slick("unslick"),this.slicked=!1):(this.slicked=!1,this.currentIndex=0),this.currentOverlaySlide=t.ui.carousel.slick({prevArrow:".switch-button .prev",nextArrow:".switch-button .next",fade:!0,speed:200,slidesToShow:1,adaptiveHeight:!0,rtl:"rtl"==jQuery("html").attr("dir")}),this.slicked=!0,"undefined"!=typeof e&&this.currentOverlaySlide.slick("slickGoTo",parseInt(e))},imgLazyLoad:function(){function e(){for(var e=document.documentElement.clientHeight,t=document.documentElement.scrollTop||document.body.scrollTop,o=a;n>o;o++)jQuery(i[o]).offset().top<e+t&&""==i[o].getAttribute("src")&&(i[o].src=i[o].getAttribute("data-src"))}var t=this,n=t.ui.imgLazy.length,i=t.ui.imgLazy,a=0;return 0==n?!1:(e(),void(window.onscroll=e))}})},{"../../ui/carousel/view":2057,"../../ui/util":2122,"./model":1084,"./template.hbs":1085,backbone:8,"backbone.marionette":6,underscore:42}],1085:[function(e,t,n){t.exports='<div class="c-lengs-custom-module" style="background-image:url(\'{{bg}}\') ">\r\n   <!-- initial-state-->\r\n    <div class="initial-state">\r\n\r\n        <div class="title">\r\n            <h1><span>{{titleMsg}}</span>{{title}}</h1>\r\n        </div>\r\n\r\n        <div class="content">\r\n            <div class="content-block left">\r\n                {{#each leftCustom}}\r\n                    <a class="item" data-id="{{index}}">\r\n                        <img src="" data-src="{{image}}"/>\r\n                        <span class="view-more"><i class="icon-icon_expand"></i><em>{{local \'general.view_more\'}}</em></span>\r\n                        <span class="msg" style="background-image:url(\'{{smallBg}}\') ">{{id}}</span>\r\n                    </a>\r\n                {{/each}}\r\n            </div>\r\n            <div class="content-block center">\r\n                {{#each centerCustom}}\r\n                    <a class="item" data-id="{{index}}">\r\n                        <img src="" data-src="{{image}}"/>\r\n                        <span class="view-more"><i class="icon-icon_expand"></i><em>{{local \'general.view_more\'}}</em></span>\r\n                        <span class="msg" style="background-image:url(\'{{smallBg}}\') ">{{id}}</span>\r\n                    </a>\r\n                {{/each}}\r\n            </div>\r\n            <div class="content-block right">\r\n                {{#each rightCustom}}\r\n                    <a class="item" data-id="{{index}}">\r\n                        <img src="" data-src="{{image}}"/>\r\n                        <span class="view-more"><i class="icon-icon_expand"></i><em>{{local \'general.view_more\'}}</em></span>\r\n                        <span class="msg" style="background-image:url(\'{{smallBg}}\') ">{{id}}</span>\r\n                    </a>\r\n                {{/each}}\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n\r\n    <!--pop-state-->\r\n    <div class="pop-state" data-pop-index="">\r\n        <div class="content custom__slick">\r\n            {{#each custom}}\r\n                <div class="item" data-id="{{index}}">\r\n\r\n                    <div class="left">\r\n                        <div data-component="carousel" class="tpl-hero-openinghours">\r\n                                {{#each img}}\r\n                                    <div style="background-image:url(\'{{src}}\') " data-text="{{msg}}"  class="tpl-hero-slider {{image_anchor}}"></div>\r\n                                {{/each}}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="right">\r\n                        <div class="info">\r\n                            <h1 class="title">{{title}}</h1>\r\n                            <div class="text">\r\n                                {{{text}}}\r\n                            </div>\r\n                            <a class="read-more">{{local \'general.read_more\'}}</a>\r\n                        </div>\r\n                        {{#if href}}\r\n                            <a class="btn" href="{{href}}">{{local \'general.learn_more\'}}</a>\r\n                        {{/if}}\r\n                    </div>\r\n\r\n\r\n                    <div class="custom-button">\r\n                        <div class="switch-button">\r\n                            <a class="btn prev">\r\n                                <i class="icon-icon_chervonLeft"></i>\r\n                                <span>{{local \'general.prev\'}}:\r\n                                        <u>{{switchId.prev}}</u>\r\n                                </span>\r\n                            </a>\r\n                            <a class="btn next">\r\n                                <span>{{local \'general.next\'}}:\r\n                                        <u>{{switchId.next}}</u>\r\n                                </span>\r\n                                <i class="icon-icon_chervonRight"></i>\r\n                            </a>\r\n                        </div>\r\n                        <div class="close--button"><a class="close-icon icon-icon_B023"></a></div>\r\n                    </div>\r\n\r\n                </div>\r\n            {{/each}}\r\n        </div>\r\n\r\n\r\n\r\n\r\n    </div>\r\n\r\n</div>'},{}],1084:[function(e,t,n){var i=(e("underscore"),e("backbone")),a=e("../../../../config/host.js");CompetitionModel=t.exports=i.Model.extend({initialize:function(e){this.url=a.getURL("api","/hotels/discover/"+e.hotelcode)}})},{"../../../../config/host.js":45,backbone:8,underscore:42}]},{},[2200]);