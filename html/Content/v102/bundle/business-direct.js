require=function e(t,i,r){function n(a,s){if(!i[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[a]={exports:{}};t[a][0].call(d.exports,function(e){var i=t[a][1][e];return n(i?i:e)},d,d.exports,e,t,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({2172:[function(e,t,i){var r=(e("underscore"),e("backbone.marionette"),e("../component/layout/default-page-layout.js")),n=e("../component/business-direct/business.js"),o=(e("../component/ui/dropdown/view"),e("../component/ui/accordion/view"),r.extend({ui:{container:".direct-content"},initialize:function(e){var t=this;t.business=new n({el:this.ui.container})},onRender:function(){var e=this;e.business.render()}}));!function(e){var t=new o({el:e(".global-wrapper")});t.render()}(jQuery)},{"../component/business-direct/business.js":418,"../component/layout/default-page-layout.js":1082,"../component/ui/accordion/view":2045,"../component/ui/dropdown/view":2091,"backbone.marionette":6,underscore:42}],418:[function(e,t,i){var r=e("underscore"),n=e("backbone.marionette"),o=e("../abmb/stateful.js"),a=e("./view/register-view.js"),s=e("./view/direct-list-view.js"),c=e("../../../config/host"),u=e("./model/register-model.js");t.exports=n.LayoutView.extend(r.extend({},o,{template:!1,className:"",regions:{relativeContent:".relative-content"},ui:{img:"[data-feedback='img']",voice:"[data-feedback='voice']",item_img:"[data-item='img']"},events:{"click @ui.voice":function(){this.IF_CLICK_AUDIO&&this.autoPlay()},"click @ui.img":function(){this.ui.item_img.attr("src",c.getURL("api","captcha/image?r="+Math.random()))}},initialize:function(){var e=this;e.IF_CLICK_AUDIO=!0,e.audio=new Audio,e.registermodel=new u,e.registerForm=new a({model:e.registermodel}),e.directListView=new s,e.directListView.on("form:register",function(t){e.registermodel.set("region",t),e.relativeContent.show(e.registerForm,{preventDestroy:!0})}),e.registerForm.on("list:restart",function(){e.relativeContent.show(e.directListView,{preventDestroy:!0})})},onRender:function(){var e=this;e.relativeContent.show(e.directListView,{preventDestroy:!0})},autoPlay:function(){var e=this;e.IF_CLICK_AUDIO=!1,e.audio.setAttribute("src",c.getURL("api","captcha/voice?r="+Math.random())),e.audio.load(),e.audio.play(),e.audio.oncanplay=function(){e.audio.play()},e.audio.onended=function(){e.IF_CLICK_AUDIO=!0}}}))},{"../../../config/host":45,"../abmb/stateful.js":72,"./model/register-model.js":419,"./view/direct-list-view.js":420,"./view/register-view.js":421,"backbone.marionette":6,underscore:42}],421:[function(e,t,i){var r=e("underscore"),n=(e("underscore.string/sprintf"),e("backbone"),e("backbone-validation"),e("../../ui/validator.js")),o=e("../../ui/util"),a=e("../../abmb/stateful.js"),s=e("backbone.marionette");t.exports=s.ItemView.extend(r.extend({},a,{el:".application-form",template:!1,events:{"click .submit-business":"onSubmitClicked","click a.wgt-close":"onCloseClicked","click .cancel-form":"onCloseClicked"},ui:{dataBox:"[data-bind]",errorResponse:"div.request-error>span.error-tip"},onRender:function(){var e=this;n.bind(e)},onCloseClicked:function(){this.triggerMethod("list:restart")},onSubmitClicked:function(){var e=this;return e.trigger("save:form"),e.model.isValid(!0)?void o.loading({errortimeout:5e3,showerror:!1,container:e.el,promise:e.model.save({},{emulateForm:!0,emulateJSON:!0,success:function(e,t){jQuery("div.tpl-full-screen-mask").show()},error:function(t,i){e.ui.errorResponse.html(r.pluck(i.responseJSON,"msg").join("<hr>"))}})}):!1}}));!function(e){var t=e(".call-application-form");t.click(function(){var t=e(this).parent().parent().parent().attr("id");setTimeout(function(){e(".application-form > input").attr("value",t)},100)})}(jQuery)},{"../../abmb/stateful.js":72,"../../ui/util":2122,"../../ui/validator.js":2123,backbone:8,"backbone-validation":3,"backbone.marionette":6,underscore:42,"underscore.string/sprintf":41}],420:[function(e,t,i){var r=e("underscore"),n=(e("backbone"),e("../../abmb/stateful.js")),o=e("backbone.marionette");t.exports=o.ItemView.extend(r.extend({},n,{el:".content-details",template:!1,events:{"click a.call-application-form":"showRegisterForm"},showRegisterForm:function(e){var t=jQuery(e.target).closest("div.section").attr("data-region");this.triggerMethod("form:register",t)}}))},{"../../abmb/stateful.js":72,backbone:8,"backbone.marionette":6,underscore:42}],419:[function(e,t,i){var r=(e("underscore"),e("backbone")),n=e("../../../../config/host.js"),o=e("../../ui/validator.js"),a=o.latinNumericsSymbols,s=o.latinRegex3,c=o.patterns.keyboard,u=o.alphaNumerics2;t.exports=r.Model.extend({url:n.getURL("api","request/businessdirect"),validation:{full_name:{pattern:s,required:!0},company_name:{pattern:a,required:!0},email:{pattern:"email",required:!0},company_address:{pattern:c,required:!0},postal:{pattern:u,required:!1},telephone:{pattern:/^(\(?\+?[0-9]*\)?)?[0-9_\- \(\)]*$/,required:!1},fax:{pattern:/^(\(?\+?[0-9]*\)?)?[0-9_\- \(\)]*$/,required:!1},company_website:{pattern:/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)?(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/,required:!1},hotel:{required:!0},captcha:{required:!0}}})},{"../../../../config/host.js":45,"../../ui/validator.js":2123,backbone:8,underscore:42}]},{},[2172]);